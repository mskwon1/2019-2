### ARM Processor Features

- Co-processor based additional features
  - Old original ARM cores have only MMU-less fixed point computation engines
  - Additional features including cache memory, MMU, write buffer, and TCM(Tightly-coupled memory) are supported as CO-PROCESSORS
  - All the additional features are configured through **Co-processor 15**

### ARM Core and Memory Architecture

![image-20191127155848419](../../typora_images/10/image-20191127155848419.png)

 ![img](http://thumbnail.egloos.net/600x0/http://pds21.egloos.com/pds/201502/27/45/b0275745_54f02cc81ed28.png) 

- IVA(Virtual) ---- MMU > IPA(Physical)

### ARM Processor Configuration

- CP15 is used for configuration and control
  - Cache, MMU or MPU, Endian
- Co-processor setting
  - Co-processor setting is possible only through MRC or MCR instructions (Transfers data from general registers to CP15 registers)

### Representative CP15 Registers

![image-20191127160456109](../../typora_images/10/image-20191127160456109.png)

- Lockdown 이용시 Cache/TLB의 특정 entry 묶어놓기 가능
  - 실시간성 향상

### Cache Memory

![image-20191127160632914](../../typora_images/10/image-20191127160632914.png)

- Cache memory fills the speed gap between CPU and Memory
- Cache configurations
  - Direct mapped, set associative, fully associative
  - Cache line size
- Performance factors
  - Cache hit (miss) ratio

#### Direct-Mapped Cache

![image-20191127160721282](../../typora_images/10/image-20191127160721282.png)

- 구현이 간단하지만 효율이 떨어짐

#### Set-Associative Cache

![image-20191127161001377](../../typora_images/10/image-20191127161001377.png)

- 효율은 올라가지만 구현이 복잡하고 힘들다

#### Write Buffer

- To overcome the speed gap during writing from CPU to memory

- CPU completes writing operation through writing to write buffer before reaching actual main memory

  ![image-20191127161430812](../../typora_images/10/image-20191127161430812.png)
  - CPU 입장에서 Write 작업은 Non-Blocking
    - Write Buffer에게 명령하고 다른 작업 가능
  - CPU 입장에서 Read 작업은 Blocking